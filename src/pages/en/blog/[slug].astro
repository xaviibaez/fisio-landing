---
import { getCollection } from 'astro:content';
import BlogPost from '../../../layouts/BlogPost.astro';

export async function getStaticPaths() {
  const blogPosts = await getCollection('blog', (entry) => entry.data.lang === 'en');
  return blogPosts.map(post => ({
    params: { slug: post.slug.split('/').pop() },
    props: { post },
  }));
}

const { post } = Astro.props;
---

<BlogPost post={post} />
