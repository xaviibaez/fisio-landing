---
import BlogPage from '../../components/BlogPage.astro';
import { getLangFromUrl, useTranslations, getLangKey } from '../../i18n/utils';
import { getBlogPostsByLang } from '../../utils/blogPages';

const lang = getLangFromUrl(Astro.url);
const translation = useTranslations(lang);
const posts = await getBlogPostsByLang(getLangKey(lang));
---

<BlogPage posts={posts} lang={lang} translation={translation} />
